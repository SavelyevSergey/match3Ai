**[← Предыдущая часть: ANALYSIS_Противоречия_плана_часть_1.md]**

---

## 4. РЕШЁННЫЕ ПРОБЛЕМЫ

### 4.1. Win Rate формула — недостаточное количество симуляций

**Расположение:**
- [`05_Прогрессия_и_сложность.md:174`](Docs/Plan/05_Прогрессия_и_сложность.md:174)

**Исправление:**
```
БЫЛО:
total_simulation_runs = 100

СТАЛО:
total_simulation_runs = 1000 (минимум)
Рекомендуемое: 5000+ для финальной балансировки
```

**Статус:** ✅ Исправлено

### 4.2. Alpha этап перегружен — Level Editor слишком амбициозен

**Расположение:**
- [`09_План_разработки.md:39`](Docs/Plan/09_План_разработки.md:39) — "Level Editor (инструмент для создания уровней)"

**Проблема:**
Level Editor — это отдельный сложный инструмент, требующий:
- UI/UX проектирования
- Сериализации/десериализации
- Валидации уровней
- Экспорта в ScriptableObject
- Тестирования

Включение его в Alpha создаёт риски:
- Затягивание сроков Alpha
- Переключение внимания с core gameplay
- Технический долг

**РЕШЕНИЕ:**
Перенести Level Editor в Beta этап:

**БЫЛО:**
```
Alpha (30-40 уровней):
- ✅ Все бустеры + комбинации
- ✅ Все типы препятствий
- ✅ Level Editor (инструмент для создания уровней)
```

**СТАЛО:**
```
Alpha (30-40 уровней):
- ✅ Все бустеры + комбинации
- ✅ Все типы препятствий
- ❌ Level Editor [ПЕРЕНЕСЕН В BETA]

Beta:
- ✅ Level Editor (инструмент для создания уровней)
```

**АЛЬТЕРНАТИВА:**
Удалить Level Editor из MVP и создавать уровни вручную через Inspector до выхода Beta.

---

### 4.3. Отсутствует этап Vertical Slice

**Проблема:**
План переходит от Pre-production с 3-5 уровнями сразу к Alpha с 30+ уровнями. Это пропускает важный этап — создание 1-2 полностью полированных уровней (Vertical Slice) как референса качества.

**РЕШЕНИЕ:**
Добавить этап Vertical Slice после Pre-production:

```markdown
#### 7.1.X. Production - Vertical Slice

**Цели:**
- Создание 1-2 референсных уровней
- Финализация визуального стиля
- Финализация аудио
- Определение стандартов качества

**Задачи:**
- [ ] 1-2 полностью полированных уровня
- [ ] Финальная графика и анимации
- [ ] Полный аудио для уровней
- [ ] UI/UX для игрового процесса
- [ ] Документация стандартов уровней

**Deliverables:**
- Vertical Slice build
- Согласованные стандарты качества
```

---

### 4.4. Производительность — отсутствует этап профилирования

**Проблема:**
План упоминает "Оптимизация производительности (60 FPS)" в Beta, но:
- Отсутствует методология профилирования
- Отсутствуют метрики для BFS
- Отсутствует план оптимизации

**РЕШЕНИЕ:**
Добавить раздел по оптимизации в план разработки:

```markdown
#### B.1. Оптимизация BFS алгоритма

**Текущая сложность:** O(V + E) на поиск матча
**Узкие места:**
- Множественные вызовы BFS при каскадах
- Аллоцирование новых списков при каждом поиске

**Оптимизации:**
1. Object Pooling для списков
2. Кэширование графа сетки
3. Оптимизированные структуры данных
4. Ранний выход при отсутствии матчей

#### B.2. Этап профилирования

**Инструменты:**
- Unity Profiler
- Memory Profiler
- Frame Debugger

**Метрики:**
- FPS: 60 на средних устройствах
- Memory: < 300 MB
- Load time: < 3 секунды
- GC per frame: < 2 KB
```

---

## 5. Сводная таблица решений (ОБНОВЛЁННАЯ)

| № | Проблема | Решение | Статус |
|---|----------|---------|--------|
| 1 | Количество уровней | 80 уровней, ScriptableObject | ✅ Готово |
| 2 | Сторонние плагины | Полный запрет | ✅ Готово |
| 3 | Firebase/Analytics | Удалены, сбор метрик запрещён | ✅ Готово |
| 4 | JSON пример уровня | Удалён из Tech Reqs | ✅ Готово |
| 5 | Soft Launch метрики | "Сбор метрик" удалён | ✅ Готово |
| 6 | Roadmap Soft Launch | Analytics/A/B удалены | ✅ Готово |
| 7 | Post-Launch PvP/кланы | Удалены, локальные фичи | ✅ Готово |
| 8 | Win Rate симуляции | 100 → 1000+ | ✅ Готово |
| 9 | Alpha перегружен | Level Editor удалён, уровни вручную через Inspector | ✅ Готово |
| 10 | Нет Vertical Slice | Этап Vertical Slice добавлен | ✅ Готово |
| 11 | Нет профилирования | Добавлен раздел 8.5 в Tech Reqs | ✅ Готово |

---

## Заключение

**Фундаментальные ограничения:**
1. ❌ Сторонние плагины — НЕДОПУСТИМО
2. ❌ IAP/Реклама — НЕ ПЛАНИРУЕТСЯ
3. ❌ Серверная инфраструктура — НЕ ТРЕБУЕТСЯ
4. ❌ Аналитика — НЕ ТРЕБУЕТСЯ

**Архитектура:**
- 80 уровней на Global Launch
- ScriptableObject для всех данных уровней
- LevelManager для централизованного управления
- PlayerPrefs + JSON для сохранения прогресса
- Локальные фичи только (без PvP, кланов, социальных функций)

**Требуемые исправления:**
ВСЕ ИСПРАВЛЕНИЯ ПРИМЕНЕНЫ ✅

| № | Статус |
|---|--------|
| 1 | ✅ JSON-пример удалён из 10_Технические_требования.md |
| 2 | ✅ "Сбор метрик" удалён из целей Soft Launch |
| 3 | ✅ Analytics/A/B удалены из Roadmap Soft Launch |
| 4 | ✅ PvP/кланы удалены из Post-Launch |
| 5 | ✅ Win Rate симуляции увеличены до 1000+ |
| 6 | ✅ Level Editor перенесён в Beta |
| 7 | ✅ Этап Vertical Slice добавлен |
| 8 | ✅ Раздел профилирования производительности добавлен |

---

**Версия анализа:** 2.1  
**Дата:** 09.02.2026  
**Статус:** ВСЕ ИСПРАВЛЕНИЯ ПРИМЕНЕНЫ ✅
