# 10. Технические требования (Unity)

[◀ Назад к оглавлению](README.md)

---
## 8. Технические требования (Unity-специфичные)

### 8.1. Архитектура проекта
```
Assets/
├── Scripts/
│   ├── Core/
│   │   ├── Grid/
│   │   ├── Match/
│   │   ├── Elements/
│   │   └── Obstacles/
│   ├── Managers/
│   ├── UI/
│   └── Utilities/
├── Prefabs/
├── ScriptableObjects/
│   └── Levels/
├── Sprites/
├── Audio/
│   ├── Music/
│   └── SFX/
└── Scenes/
```

### 8.2. Ключевые компоненты
- **GridManager:** MonoBehaviour, управляет сеткой
- **MatchDetector:** статический класс с BFS алгоритмом
- **LevelData:** ScriptableObject для уровней
- **GameElement:** MonoBehaviour на каждом игровом элементе
- **ObstacleBase:** базовый класс для препятствий

### 8.3. Оптимизация для Android
- **Целевые устройства:** Android 6.0+ (API 23)
- **Разрешение:** адаптивное (от 1280×720 до 1920×1080)
- **FPS target:** 60 FPS на средних устройствах
- **Размер билда:** < 300 MB
- **RAM usage:** < 300 MB

### 8.4. Без сторонних плагинов — НЕДОПУСТИМО

**Определение:**
> Сторонние плагины — любые внешние библиотеки, SDK или инструменты, не входящие в стандартную поставку Unity 2022.3.62f3.

**Полный запрет:**
- Firebase, Unity Analytics, PlayFab
- DOTween, iTween, LeanTween
- AdMob, Unity Ads
- Любые Asset Store интеграции

**Разрешено:**
- Unity Engine API (MonoBehaviour, ScriptableObject, Coroutines)
- C# .NET Standard 2.1
- PlayerPrefs + JSON (сохранение данных)
- Аналитика — НЕ ТРЕБУЕТСЯ

### 8.5. Оптимизация производительности

#### 8.5.1. Метрики производительности

**Целевые показатели:**
- FPS: 60 на средних устройствах
- Memory: < 300 MB
- Load time: < 3 секунды
- GC per frame: < 2 KB

#### 8.5.2. Оптимизация BFS алгоритма

**Текущая сложность:** O(V + E) на поиск матча

**Узкие места:**
- Множественные вызовы BFS при каскадах
- Аллоцирование новых списков при каждом поиске

**Оптимизации:**
1. Object Pooling для списков
2. Кэширование графа сетки
3. Оптимизированные структуры данных
4. Ранний выход при отсутствии матчей

#### 8.5.3. Этап профилирования

**Инструменты:**
- Unity Profiler
- Memory Profiler
- Frame Debugger

**План профилирования:**
1. Профилирование на целевых устройствах (Android 6.0+)
2. Тестирование сложных уровней (60-80) с максимальным количеством элементов
3. Мониторинг GC аллокаций
4. Оптимизация узких мест

---

## Приложения

## Приложения

### A. Таблица взаимодействий бустеров (полная)
См. раздел 2.2.3

### B. Таблица препятствий (полная)
См. раздел 2.3.1

### C. Формулы балансировки
См. разделы 3.2.1, 3.3.1

### D. Конфигурации уровней
**Уровни хранятся в ScriptableObject.**
См. [`05_Прогрессия_и_сложность.md:24-55`](Docs/Plan/05_Прогрессия_и_сложность.md:24-55) для структуры LevelData.

---

**Версия документа:** 2.0  
**Дата последнего обновления:** 09.02.2026  
**Ответственный:** Game Designer / Programmer

[◀ Предыдущий раздел: План разработки](09_План_разработки.md) | [◀ Назад к оглавлению](README.md)
